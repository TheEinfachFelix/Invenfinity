CREATE TABLE IF NOT EXISTS "Part" (
	"PartID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"InventreeID" INTEGER,
	PRIMARY KEY("PartID")
);




CREATE TABLE IF NOT EXISTS "Grid" (
	"GridID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"LocationID" INTEGER,
	"Name" TEXT,
	PRIMARY KEY("GridID")
);




CREATE TABLE IF NOT EXISTS "Location" (
	"LocationID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"name" TEXT,
	"MasterLocationID" INTEGER,
	PRIMARY KEY("LocationID")
);




CREATE TABLE IF NOT EXISTS "Bin" (
	"BinID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"BinTypeID" INTEGER NOT NULL,
	PRIMARY KEY("BinID")
);




CREATE TABLE IF NOT EXISTS "BinPart" (
	"BinID" INTEGER NOT NULL,
	"PartID" INTEGER NOT NULL,
	"SlotNr" INTEGER,
	PRIMARY KEY("BinID", "PartID")
);




CREATE TABLE IF NOT EXISTS "BinType" (
	"BinTypeID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"SlotCount" INTEGER NOT NULL,
	"X" INTEGER NOT NULL,
	"Y" INTEGER NOT NULL,
	PRIMARY KEY("BinTypeID")
);




CREATE TABLE IF NOT EXISTS "GridPos" (
	"GridPosID" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"X" INTEGER NOT NULL,
	"Y" INTEGER NOT NULL,
	"BinID" INTEGER,
	"GridID" INTEGER NOT NULL,
	PRIMARY KEY("GridPosID")
);



ALTER TABLE "BinPart"
ADD FOREIGN KEY("BinID") REFERENCES "Bin"("BinID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "BinPart"
ADD FOREIGN KEY("PartID") REFERENCES "Part"("PartID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "Bin"
ADD FOREIGN KEY("BinTypeID") REFERENCES "BinType"("BinTypeID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "Location"
ADD FOREIGN KEY("MasterLocationID") REFERENCES "Location"("LocationID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "Grid"
ADD FOREIGN KEY("LocationID") REFERENCES "Location"("LocationID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "GridPos"
ADD FOREIGN KEY("BinID") REFERENCES "Bin"("BinID")
ON UPDATE CASCADE ON DELETE RESTRICT;
ALTER TABLE "GridPos"
ADD FOREIGN KEY("GridID") REFERENCES "Grid"("GridID")
ON UPDATE CASCADE ON DELETE RESTRICT;